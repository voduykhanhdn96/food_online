{"ast":null,"code":"// Initial state of shop\nconst initialStateShop = {\n  cart: [],\n  groups: []\n};\n\nconst shopReducer = (state = initialStateShop, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case \"INITIAL_CART\":\n      return {\n        cart: payload.cart\n      };\n\n    case \"SETTING_GROUP\":\n      const itemsInCart = payload.itemsInCart;\n      let userId = null;\n      let groupTemp = [];\n\n      for (const key in itemsInCart) {\n        if (userId === itemsInCart[key].customerId) {\n          const index = groupTemp.findIndex(group => group.userId === itemsInCart[key].customerId);\n          const newItems = groupTemp[index].items.concat(itemsInCart[key]);\n          groupTemp[index] = { ...groupTemp[index],\n            items: newItems // items: groupTemp[index].concat(itemsInCart[key]),\n\n          };\n        } else {\n          groupTemp.push({\n            id: +key,\n            userId: itemsInCart[key].customerId,\n            userName: itemsInCart[key].customerName,\n            items: [itemsInCart[key]]\n          });\n          userId = itemsInCart[key].customerId;\n        }\n      }\n\n      return { ...state,\n        groups: groupTemp\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/mac/Desktop/Projects/Mock_project/mock-project-store-online/src/app/store/reducers/shop-reducer.js"],"names":["initialStateShop","cart","groups","shopReducer","state","type","payload","itemsInCart","userId","groupTemp","key","customerId","index","findIndex","group","newItems","items","concat","push","id","userName","customerName"],"mappings":"AAAA;AACA,MAAMA,gBAAgB,GAAG;AACvBC,EAAAA,IAAI,EAAE,EADiB;AAEvBC,EAAAA,MAAM,EAAG;AAFc,CAAzB;;AAKA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGJ,gBAAT,EAA2B;AAAEK,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAA3B,KAAiD;AACnE,UAAQD,IAAR;AACE,SAAK,cAAL;AACE,aAAO;AAAEJ,QAAAA,IAAI,EAAEK,OAAO,CAACL;AAAhB,OAAP;;AACF,SAAK,eAAL;AACE,YAAMM,WAAW,GAAGD,OAAO,CAACC,WAA5B;AACA,UAAIC,MAAM,GAAG,IAAb;AACA,UAAIC,SAAS,GAAG,EAAhB;;AACA,WAAK,MAAMC,GAAX,IAAkBH,WAAlB,EAA+B;AAC7B,YAAIC,MAAM,KAAKD,WAAW,CAACG,GAAD,CAAX,CAAiBC,UAAhC,EAA4C;AAC1C,gBAAMC,KAAK,GAAGH,SAAS,CAACI,SAAV,CACZC,KAAK,IAAIA,KAAK,CAACN,MAAN,KAAiBD,WAAW,CAACG,GAAD,CAAX,CAAiBC,UAD/B,CAAd;AAGA,gBAAMI,QAAQ,GAAGN,SAAS,CAACG,KAAD,CAAT,CAAiBI,KAAjB,CAAuBC,MAAvB,CAA8BV,WAAW,CAACG,GAAD,CAAzC,CAAjB;AACAD,UAAAA,SAAS,CAACG,KAAD,CAAT,GAAmB,EACjB,GAAGH,SAAS,CAACG,KAAD,CADK;AAEjBI,YAAAA,KAAK,EAAED,QAFU,CAGjB;;AAHiB,WAAnB;AAKD,SAVD,MAUO;AACLN,UAAAA,SAAS,CAACS,IAAV,CAAe;AACbC,YAAAA,EAAE,EAAE,CAACT,GADQ;AAEbF,YAAAA,MAAM,EAAED,WAAW,CAACG,GAAD,CAAX,CAAiBC,UAFZ;AAGbS,YAAAA,QAAQ,EAAEb,WAAW,CAACG,GAAD,CAAX,CAAiBW,YAHd;AAIbL,YAAAA,KAAK,EAAE,CAACT,WAAW,CAACG,GAAD,CAAZ;AAJM,WAAf;AAMAF,UAAAA,MAAM,GAAGD,WAAW,CAACG,GAAD,CAAX,CAAiBC,UAA1B;AACD;AACF;;AACD,aAAO,EACL,GAAGP,KADE;AAELF,QAAAA,MAAM,EAAEO;AAFH,OAAP;;AAIF;AACE,aAAOL,KAAP;AAjCJ;AAmCD,CApCD;;AAsCA,eAAeD,WAAf","sourcesContent":["// Initial state of shop\nconst initialStateShop = {\n  cart: [],\n  groups : [],\n}\n\nconst shopReducer = (state = initialStateShop, { type, payload }) => {\n  switch (type) {\n    case \"INITIAL_CART\":\n      return { cart: payload.cart }\n    case \"SETTING_GROUP\":\n      const itemsInCart = payload.itemsInCart\n      let userId = null\n      let groupTemp = []\n      for (const key in itemsInCart) {\n        if (userId === itemsInCart[key].customerId) {\n          const index = groupTemp.findIndex(\n            group => group.userId === itemsInCart[key].customerId\n          )\n          const newItems = groupTemp[index].items.concat(itemsInCart[key])\n          groupTemp[index] = {\n            ...groupTemp[index],\n            items: newItems,\n            // items: groupTemp[index].concat(itemsInCart[key]),\n          }\n        } else {\n          groupTemp.push({\n            id: +key,\n            userId: itemsInCart[key].customerId,\n            userName: itemsInCart[key].customerName,\n            items: [itemsInCart[key]],\n          })\n          userId = itemsInCart[key].customerId\n        }\n      }\n      return {\n        ...state,\n        groups: groupTemp,\n      }\n    default:\n      return state\n  }\n}\n\nexport default shopReducer\n"]},"metadata":{},"sourceType":"module"}