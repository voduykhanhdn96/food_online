{"ast":null,"code":"// ag-grid-react v26.1.0\n\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ag_grid_community_1 = require(\"ag-grid-community\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar beansContext_1 = require(\"../beansContext\");\n\nvar headerCellComp_1 = __importDefault(require(\"./headerCellComp\"));\n\nvar headerGroupCellComp_1 = __importDefault(require(\"./headerGroupCellComp\"));\n\nvar HeaderRowComp = function (props) {\n  var _a = react_1.useContext(beansContext_1.BeansContext),\n      context = _a.context,\n      gridOptionsWrapper = _a.gridOptionsWrapper;\n\n  var _b = react_1.useState(),\n      transform = _b[0],\n      setTransform = _b[1];\n\n  var _c = react_1.useState(),\n      height = _c[0],\n      setHeight = _c[1];\n\n  var _d = react_1.useState(),\n      top = _d[0],\n      setTop = _d[1];\n\n  var _e = react_1.useState(),\n      width = _e[0],\n      setWidth = _e[1];\n\n  var _f = react_1.useState(),\n      ariaRowIndex = _f[0],\n      setAriaRowIndex = _f[1];\n\n  var _g = react_1.useState([]),\n      cellCtrls = _g[0],\n      setCellCtrls = _g[1];\n\n  var eGui = react_1.useRef(null);\n  var ctrl = props.ctrl;\n  var typeColumn = ctrl.getType() === ag_grid_community_1.HeaderRowType.COLUMN;\n  var typeGroup = ctrl.getType() === ag_grid_community_1.HeaderRowType.COLUMN_GROUP;\n  var typeFilter = ctrl.getType() === ag_grid_community_1.HeaderRowType.FLOATING_FILTER;\n  var jsFilterCells = react_1.useRef({});\n  var setCellCtrlsMaintainOrder = react_1.useCallback(function (prev, next) {\n    // if we are ensuring dom order, we set the ctrls into the dom in the same order they appear on screen\n    if (gridOptionsWrapper.isEnsureDomOrder()) {\n      return next;\n    } // if not maintaining order, we want to keep the dom elements we have and add new ones to the end,\n    // otherwise we will loose transition effects as elements are placed in different dom locations\n\n\n    var prevMap = ag_grid_community_1._.mapById(prev, function (c) {\n      return c.getInstanceId();\n    });\n\n    var nextMap = ag_grid_community_1._.mapById(next, function (c) {\n      return c.getInstanceId();\n    });\n\n    var oldCtrlsWeAreKeeping = prev.filter(function (c) {\n      return nextMap.has(c.getInstanceId());\n    });\n    var newCtrls = next.filter(function (c) {\n      return !prevMap.has(c.getInstanceId());\n    });\n    return __spreadArrays(oldCtrlsWeAreKeeping, newCtrls);\n  }, []);\n  react_1.useEffect(function () {\n    var compProxy = {\n      setTransform: function (transform) {\n        return setTransform(transform);\n      },\n      setHeight: function (height) {\n        return setHeight(height);\n      },\n      setTop: function (top) {\n        return setTop(top);\n      },\n      setHeaderCtrls: function (ctrls) {\n        return setCellCtrls(function (prev) {\n          return setCellCtrlsMaintainOrder(prev, ctrls);\n        });\n      },\n      setWidth: function (width) {\n        return setWidth(width);\n      },\n      setAriaRowIndex: function (rowIndex) {\n        return setAriaRowIndex(rowIndex);\n      }\n    };\n    ctrl.setComp(compProxy);\n  }, []);\n  var destroyJsFilterComps = react_1.useCallback(function (cellCtrls) {\n    cellCtrls.forEach(function (cellCtrl) {\n      var comp = jsFilterCells.current[cellCtrl.getInstanceId()];\n\n      if (comp) {\n        var compGui = comp.getGui();\n        context.destroyBean(comp);\n\n        if (compGui && compGui.parentElement) {\n          compGui.parentElement.removeChild(compGui);\n        }\n      }\n    });\n  }, []); // manage filter comps, which are still JS\n\n  typeFilter && react_1.useEffect(function () {\n    var oldCompsMap = jsFilterCells.current;\n    jsFilterCells.current = {};\n    var newCompsMap = jsFilterCells.current;\n    cellCtrls.forEach(function (cellCtrl) {\n      var id = cellCtrl.getInstanceId();\n      var existing = oldCompsMap[id];\n      delete oldCompsMap[id];\n\n      if (existing) {\n        newCompsMap[id] = existing;\n      } else {\n        var newComp = context.createBean(new ag_grid_community_1.HeaderFilterCellComp(cellCtrl));\n        eGui.current.appendChild(newComp.getGui());\n      }\n    });\n\n    var oldComps = ag_grid_community_1._.getAllValuesInObject(oldCompsMap);\n\n    destroyJsFilterComps(oldComps);\n  }, [cellCtrls]); // when row comp is destroyed, make sure no child floating filters left\n\n  typeFilter && react_1.useEffect(function () {\n    var cellCtrls = [];\n\n    ag_grid_community_1._.getAllValuesInObject(jsFilterCells.current).forEach(function (comp) {\n      return cellCtrls.push(comp.getCtrl());\n    });\n\n    destroyJsFilterComps(cellCtrls);\n  }, []);\n  var style = react_1.useMemo(function () {\n    return {\n      transform: transform,\n      height: height,\n      top: top,\n      width: width\n    };\n  }, [transform, height, top, width]);\n  var className = react_1.useMemo(function () {\n    var res = [\"ag-header-row\"];\n    typeColumn && res.push(\"ag-header-row-column\");\n    typeGroup && res.push(\"ag-header-row-column-group\");\n    typeFilter && res.push(\"ag-header-row-column-filter\");\n    return res.join(' ');\n  }, []);\n  var createCellJsx = react_1.useCallback(function (cellCtrl) {\n    switch (ctrl.getType()) {\n      case ag_grid_community_1.HeaderRowType.COLUMN_GROUP:\n        return react_1.default.createElement(headerGroupCellComp_1.default, {\n          ctrl: cellCtrl,\n          key: cellCtrl.getInstanceId()\n        });\n\n      default:\n        return react_1.default.createElement(headerCellComp_1.default, {\n          ctrl: cellCtrl,\n          key: cellCtrl.getInstanceId()\n        });\n    }\n  }, []); // below, we are not doing floating filters, not yet\n\n  return react_1.default.createElement(\"div\", {\n    ref: eGui,\n    className: className,\n    role: \"row\",\n    style: style,\n    \"aria-rowindex\": ariaRowIndex\n  }, !typeFilter && cellCtrls.map(createCellJsx));\n};\n\nexports.default = react_1.memo(HeaderRowComp);","map":{"version":3,"sources":["/Users/mac/Desktop/Projects/Mock_project/mock-project-store-online/node_modules/ag-grid-react/lib/next/header/headerRowComp.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","__importStar","mod","__esModule","result","Object","hasOwnProperty","call","__importDefault","defineProperty","exports","value","ag_grid_community_1","require","react_1","beansContext_1","headerCellComp_1","headerGroupCellComp_1","HeaderRowComp","props","_a","useContext","BeansContext","context","gridOptionsWrapper","_b","useState","transform","setTransform","_c","height","setHeight","_d","top","setTop","_e","width","setWidth","_f","ariaRowIndex","setAriaRowIndex","_g","cellCtrls","setCellCtrls","eGui","useRef","ctrl","typeColumn","getType","HeaderRowType","COLUMN","typeGroup","COLUMN_GROUP","typeFilter","FLOATING_FILTER","jsFilterCells","setCellCtrlsMaintainOrder","useCallback","prev","next","isEnsureDomOrder","prevMap","_","mapById","c","getInstanceId","nextMap","oldCtrlsWeAreKeeping","filter","has","newCtrls","useEffect","compProxy","setHeaderCtrls","ctrls","rowIndex","setComp","destroyJsFilterComps","forEach","cellCtrl","comp","current","compGui","getGui","destroyBean","parentElement","removeChild","oldCompsMap","newCompsMap","id","existing","newComp","createBean","HeaderFilterCellComp","appendChild","oldComps","getAllValuesInObject","push","getCtrl","style","useMemo","className","res","join","createCellJsx","default","createElement","key","ref","role","map","memo"],"mappings":"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","sourcesContent":["// ag-grid-react v26.1.0\n\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar react_1 = __importStar(require(\"react\"));\nvar beansContext_1 = require(\"../beansContext\");\nvar headerCellComp_1 = __importDefault(require(\"./headerCellComp\"));\nvar headerGroupCellComp_1 = __importDefault(require(\"./headerGroupCellComp\"));\nvar HeaderRowComp = function (props) {\n    var _a = react_1.useContext(beansContext_1.BeansContext), context = _a.context, gridOptionsWrapper = _a.gridOptionsWrapper;\n    var _b = react_1.useState(), transform = _b[0], setTransform = _b[1];\n    var _c = react_1.useState(), height = _c[0], setHeight = _c[1];\n    var _d = react_1.useState(), top = _d[0], setTop = _d[1];\n    var _e = react_1.useState(), width = _e[0], setWidth = _e[1];\n    var _f = react_1.useState(), ariaRowIndex = _f[0], setAriaRowIndex = _f[1];\n    var _g = react_1.useState([]), cellCtrls = _g[0], setCellCtrls = _g[1];\n    var eGui = react_1.useRef(null);\n    var ctrl = props.ctrl;\n    var typeColumn = ctrl.getType() === ag_grid_community_1.HeaderRowType.COLUMN;\n    var typeGroup = ctrl.getType() === ag_grid_community_1.HeaderRowType.COLUMN_GROUP;\n    var typeFilter = ctrl.getType() === ag_grid_community_1.HeaderRowType.FLOATING_FILTER;\n    var jsFilterCells = react_1.useRef({});\n    var setCellCtrlsMaintainOrder = react_1.useCallback(function (prev, next) {\n        // if we are ensuring dom order, we set the ctrls into the dom in the same order they appear on screen\n        if (gridOptionsWrapper.isEnsureDomOrder()) {\n            return next;\n        }\n        // if not maintaining order, we want to keep the dom elements we have and add new ones to the end,\n        // otherwise we will loose transition effects as elements are placed in different dom locations\n        var prevMap = ag_grid_community_1._.mapById(prev, function (c) { return c.getInstanceId(); });\n        var nextMap = ag_grid_community_1._.mapById(next, function (c) { return c.getInstanceId(); });\n        var oldCtrlsWeAreKeeping = prev.filter(function (c) { return nextMap.has(c.getInstanceId()); });\n        var newCtrls = next.filter(function (c) { return !prevMap.has(c.getInstanceId()); });\n        return __spreadArrays(oldCtrlsWeAreKeeping, newCtrls);\n    }, []);\n    react_1.useEffect(function () {\n        var compProxy = {\n            setTransform: function (transform) { return setTransform(transform); },\n            setHeight: function (height) { return setHeight(height); },\n            setTop: function (top) { return setTop(top); },\n            setHeaderCtrls: function (ctrls) { return setCellCtrls(function (prev) { return setCellCtrlsMaintainOrder(prev, ctrls); }); },\n            setWidth: function (width) { return setWidth(width); },\n            setAriaRowIndex: function (rowIndex) { return setAriaRowIndex(rowIndex); }\n        };\n        ctrl.setComp(compProxy);\n    }, []);\n    var destroyJsFilterComps = react_1.useCallback(function (cellCtrls) {\n        cellCtrls.forEach(function (cellCtrl) {\n            var comp = jsFilterCells.current[cellCtrl.getInstanceId()];\n            if (comp) {\n                var compGui = comp.getGui();\n                context.destroyBean(comp);\n                if (compGui && compGui.parentElement) {\n                    compGui.parentElement.removeChild(compGui);\n                }\n            }\n        });\n    }, []);\n    // manage filter comps, which are still JS\n    typeFilter && react_1.useEffect(function () {\n        var oldCompsMap = jsFilterCells.current;\n        jsFilterCells.current = {};\n        var newCompsMap = jsFilterCells.current;\n        cellCtrls.forEach(function (cellCtrl) {\n            var id = cellCtrl.getInstanceId();\n            var existing = oldCompsMap[id];\n            delete oldCompsMap[id];\n            if (existing) {\n                newCompsMap[id] = existing;\n            }\n            else {\n                var newComp = context.createBean(new ag_grid_community_1.HeaderFilterCellComp(cellCtrl));\n                eGui.current.appendChild(newComp.getGui());\n            }\n        });\n        var oldComps = ag_grid_community_1._.getAllValuesInObject(oldCompsMap);\n        destroyJsFilterComps(oldComps);\n    }, [cellCtrls]);\n    // when row comp is destroyed, make sure no child floating filters left\n    typeFilter && react_1.useEffect(function () {\n        var cellCtrls = [];\n        ag_grid_community_1._.getAllValuesInObject(jsFilterCells.current)\n            .forEach(function (comp) { return cellCtrls.push(comp.getCtrl()); });\n        destroyJsFilterComps(cellCtrls);\n    }, []);\n    var style = react_1.useMemo(function () { return ({\n        transform: transform,\n        height: height,\n        top: top,\n        width: width\n    }); }, [transform, height, top, width]);\n    var className = react_1.useMemo(function () {\n        var res = [\"ag-header-row\"];\n        typeColumn && res.push(\"ag-header-row-column\");\n        typeGroup && res.push(\"ag-header-row-column-group\");\n        typeFilter && res.push(\"ag-header-row-column-filter\");\n        return res.join(' ');\n    }, []);\n    var createCellJsx = react_1.useCallback(function (cellCtrl) {\n        switch (ctrl.getType()) {\n            case ag_grid_community_1.HeaderRowType.COLUMN_GROUP:\n                return react_1.default.createElement(headerGroupCellComp_1.default, { ctrl: cellCtrl, key: cellCtrl.getInstanceId() });\n            default:\n                return react_1.default.createElement(headerCellComp_1.default, { ctrl: cellCtrl, key: cellCtrl.getInstanceId() });\n        }\n    }, []);\n    // below, we are not doing floating filters, not yet\n    return (react_1.default.createElement(\"div\", { ref: eGui, className: className, role: \"row\", style: style, \"aria-rowindex\": ariaRowIndex }, !typeFilter && cellCtrls.map(createCellJsx)));\n};\nexports.default = react_1.memo(HeaderRowComp);\n"]},"metadata":{},"sourceType":"script"}