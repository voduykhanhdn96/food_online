{"ast":null,"code":"import { useDispatch } from \"react-redux\";\nimport { createCart, existCartCustomerWithShop, getCartData } from \"../../lib/api_cart\";\nimport { createCustomer } from \"../../lib/api_customer\";\nimport { getAllShop } from \"../../lib/api_shop\";\nexport const registerCustomer = data => {\n  return async dispatch => {\n    dispatch({\n      type: \"SEND\"\n    });\n\n    try {\n      await createCustomer(data);\n      dispatch({\n        type: \"SUCCESS\"\n      });\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        payload: {\n          errorMessage: error.message\n        }\n      });\n    }\n\n    dispatch({\n      type: \"CLEAR_STATUS\"\n    });\n  };\n};\nexport const fetchAllShop = () => {\n  return async dispatch => {\n    dispatch({\n      type: \"SEND\"\n    });\n\n    try {\n      const response = await getAllShop();\n      return response;\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        payload: {\n          errorMessage: error.message\n        }\n      });\n    }\n\n    dispatch({\n      type: \"CLEAR_STATUS\"\n    });\n  };\n};\nexport const checkExistCartCustomerWithShop = (customerId, shopId) => {\n  var _s = $RefreshSig$();\n\n  return _s(async dispatch => {\n    _s();\n\n    const dispatchAction = useDispatch();\n    dispatch({\n      type: \"SEND\"\n    });\n\n    try {\n      const responseCheckCart = await existCartCustomerWithShop(customerId, shopId);\n\n      if (!responseCheckCart) {\n        console.log(\"1\"); // initialCartData\n      } else {\n        console.log(\"2\");\n        dispatchAction(initialCartData(responseCheckCart.cartId));\n      }\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        payload: {\n          errorMessage: error.message\n        }\n      });\n    }\n\n    dispatch({\n      type: \"CLEAR_STATUS\"\n    });\n  }, \"WrJFuSw3Fhv/zjg6Wd7T0ZpvVJk=\", false, function () {\n    return [useDispatch];\n  });\n};\nexport const initialCartData = cartId => {\n  return async dispatch => {\n    dispatch({\n      type: \"SEND\"\n    });\n\n    try {\n      const response = await getCartData(cartId);\n      dispatch({\n        type: \"INITIAL_CART\",\n        payload: {\n          cart: response\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        payload: {\n          errorMessage: error.message\n        }\n      });\n    }\n\n    dispatch({\n      type: \"CLEAR_STATUS\"\n    });\n  };\n};\nexport const registerCart = (customerId, shopId) => {\n  return async dispatch => {\n    dispatch({\n      type: \"SEND\"\n    });\n\n    try {\n      await createCart(customerId, shopId);\n      dispatch({\n        type: \"SUCCESS\"\n      });\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        payload: {\n          errorMessage: error.message\n        }\n      });\n    }\n\n    dispatch({\n      type: \"CLEAR_STATUS\"\n    });\n  };\n}; // export const getShopDetail = shopId => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       const response = await getShopById(shopId)\n//       dispatch({\n//         type: \"INITIAL_SHOP\",\n//         payload: {\n//           shopDetail: response,\n//         },\n//       })\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n// export const updateInfomationShop = data => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await updateShop(data)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n// export const createNewItem = data => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await createItem(data)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n// export const updateInfomationItem = data => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await updateItem(data)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n// export const activeThisItem = (shopId, itemId) => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await activeItem(shopId, itemId)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n// export const deleteThisItem = (shopId, itemId) => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await deleteItem(shopId, itemId)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }","map":{"version":3,"sources":["/Users/mac/Desktop/Projects/Mock_project/mock-project-store-online/src/app/store/actions/shop-action.js"],"names":["useDispatch","createCart","existCartCustomerWithShop","getCartData","createCustomer","getAllShop","registerCustomer","data","dispatch","type","error","payload","errorMessage","message","fetchAllShop","response","checkExistCartCustomerWithShop","customerId","shopId","dispatchAction","responseCheckCart","console","log","initialCartData","cartId","cart","registerCart"],"mappings":"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V,QAAN,IAAkB;AACvBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMR,UAAU,CAACgB,UAAD,EAAaC,MAAb,CAAhB;AACAV,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdF,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,OAAR;AAAiBE,QAAAA,OAAO,EAAE;AAAEC,UAAAA,YAAY,EAAEF,KAAK,CAACG;AAAtB;AAA1B,OAAD,CAAR;AACD;;AACDL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACD,GATD;AAUD,CAXM,C,CAYP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA","sourcesContent":["import { useDispatch } from \"react-redux\"\nimport {\n  createCart,\n  existCartCustomerWithShop,\n  getCartData,\n} from \"../../lib/api_cart\"\nimport { createCustomer } from \"../../lib/api_customer\"\nimport { getAllShop } from \"../../lib/api_shop\"\n\nexport const registerCustomer = data => {\n  return async dispatch => {\n    dispatch({ type: \"SEND\" })\n    try {\n      await createCustomer(data)\n      dispatch({ type: \"SUCCESS\" })\n    } catch (error) {\n      dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n    }\n    dispatch({ type: \"CLEAR_STATUS\" })\n  }\n}\n\nexport const fetchAllShop = () => {\n  return async dispatch => {\n    dispatch({ type: \"SEND\" })\n    try {\n      const response = await getAllShop()\n      return response\n    } catch (error) {\n      dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n    }\n    dispatch({ type: \"CLEAR_STATUS\" })\n  }\n}\n\nexport const checkExistCartCustomerWithShop = (customerId, shopId) => {\n  return async dispatch => {\n    const dispatchAction = useDispatch()\n    dispatch({ type: \"SEND\" })\n    try {\n      const responseCheckCart = await existCartCustomerWithShop(\n        customerId,\n        shopId\n      )\n      if (!responseCheckCart) {\n        console.log(\"1\")\n        // initialCartData\n      } else {\n        console.log(\"2\")\n        dispatchAction(initialCartData(responseCheckCart.cartId))\n      }\n    } catch (error) {\n      dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n    }\n    dispatch({ type: \"CLEAR_STATUS\" })\n  }\n}\n\nexport const initialCartData = cartId => {\n  return async dispatch => {\n    dispatch({ type: \"SEND\" })\n    try {\n      const response = await getCartData(cartId)\n      dispatch({\n        type: \"INITIAL_CART\",\n        payload: {\n          cart: response,\n        },\n      })\n    } catch (error) {\n      dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n    }\n    dispatch({ type: \"CLEAR_STATUS\" })\n  }\n}\n\nexport const registerCart = (customerId, shopId) => {\n  return async dispatch => {\n    dispatch({ type: \"SEND\" })\n    try {\n      await createCart(customerId, shopId)\n      dispatch({ type: \"SUCCESS\" })\n    } catch (error) {\n      dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n    }\n    dispatch({ type: \"CLEAR_STATUS\" })\n  }\n}\n// export const getShopDetail = shopId => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       const response = await getShopById(shopId)\n//       dispatch({\n//         type: \"INITIAL_SHOP\",\n//         payload: {\n//           shopDetail: response,\n//         },\n//       })\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n\n// export const updateInfomationShop = data => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await updateShop(data)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n\n// export const createNewItem = data => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await createItem(data)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n\n// export const updateInfomationItem = data => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await updateItem(data)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n\n// export const activeThisItem = (shopId, itemId) => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await activeItem(shopId, itemId)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n\n// export const deleteThisItem = (shopId, itemId) => {\n//   return async dispatch => {\n//     dispatch({ type: \"SEND\" })\n//     try {\n//       await deleteItem(shopId, itemId)\n//       dispatch({ type: \"SUCCESS\" })\n//     } catch (error) {\n//       dispatch({ type: \"ERROR\", payload: { errorMessage: error.message } })\n//     }\n\n//     dispatch({ type: \"CLEAR_STATUS\" })\n//   }\n// }\n"]},"metadata":{},"sourceType":"module"}