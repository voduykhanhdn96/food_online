{"ast":null,"code":"import { loginShop } from \"../../lib/api_shop\";\nimport uuseToast from \"../../hooks/uuseToast\";\nexport const loginAction = phoneNumber => {\n  const {\n    toastSuccess\n  } = uuseToast();\n  return async dispatch => {\n    try {\n      const session = await loginShop(phoneNumber);\n      dispatch({\n        type: \"ADD_TO_SESSION_SHOP\",\n        payload: {\n          shopId: session.shopId,\n          name: session.name,\n          phoneNumber: session.phoneNumber\n        }\n      });\n      localStorage.setItem(\"shopId\", session.shopId);\n      localStorage.setItem(\"shopPhoneNumber\", session.phoneNumber);\n      toastSuccess(\"Login successfully\");\n    } catch (error) {\n      toastError(\"Login is failed\");\n      dispatch({\n        type: \"CLEAR_SESSION_SHOP\"\n      });\n    }\n  };\n};\nexport const logoutAction = () => {\n  return dispatch => {\n    dispatch({\n      type: \"CLEAR_SESSION_SHOP\"\n    });\n  };\n};\nexport default authShopReducer;","map":{"version":3,"sources":["/Users/mac/Desktop/Projects/Mock_project/mock-project-store-online/src/app/store/actions/authen-action.js"],"names":["loginShop","uuseToast","loginAction","phoneNumber","toastSuccess","dispatch","session","type","payload","shopId","name","localStorage","setItem","error","toastError","logoutAction","authShopReducer"],"mappings":"AAAA,SAASA,SAAT,QAA0B,oBAA1B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AAEA,OAAO,MAAMC,WAAW,GAAGC,WAAW,IAAI;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAmBH,SAAS,EAAlC;AAEA,SAAO,MAAMI,QAAN,IAAkB;AACvB,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMN,SAAS,CAACG,WAAD,CAA/B;AACAE,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAE,qBADC;AAEPC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAEH,OAAO,CAACG,MADT;AAEPC,UAAAA,IAAI,EAAEJ,OAAO,CAACI,IAFP;AAGPP,UAAAA,WAAW,EAAEG,OAAO,CAACH;AAHd;AAFF,OAAD,CAAR;AASAQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BN,OAAO,CAACG,MAAvC;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCN,OAAO,CAACH,WAAhD;AAEAC,MAAAA,YAAY,CAAC,oBAAD,CAAZ;AACD,KAfD,CAeE,OAAOS,KAAP,EAAc;AACdC,MAAAA,UAAU,CAAC,iBAAD,CAAV;AACAT,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD;AACF,GApBD;AAqBD,CAxBM;AA0BP,OAAO,MAAMQ,YAAY,GAAG,MAAM;AAChC,SAAOV,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACD,GAFD;AAGD,CAJM;AAMP,eAAeS,eAAf","sourcesContent":["import { loginShop } from \"../../lib/api_shop\"\nimport uuseToast from \"../../hooks/uuseToast\"\n\nexport const loginAction = phoneNumber => {\n  const { toastSuccess } = uuseToast()\n\n  return async dispatch => {\n    try {\n      const session = await loginShop(phoneNumber)\n      dispatch({\n        type: \"ADD_TO_SESSION_SHOP\",\n        payload: {\n          shopId: session.shopId,\n          name: session.name,\n          phoneNumber: session.phoneNumber,\n        },\n      })\n\n      localStorage.setItem(\"shopId\", session.shopId)\n      localStorage.setItem(\"shopPhoneNumber\", session.phoneNumber)\n\n      toastSuccess(\"Login successfully\")\n    } catch (error) {\n      toastError(\"Login is failed\")\n      dispatch({ type: \"CLEAR_SESSION_SHOP\" })\n    }\n  }\n}\n\nexport const logoutAction = () => {\n  return dispatch => {\n    dispatch({ type: \"CLEAR_SESSION_SHOP\" })\n  }\n}\n\nexport default authShopReducer\n"]},"metadata":{},"sourceType":"module"}